<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VV5DY5JBSZ"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-VV5DY5JBSZ');
</script>
<title>Penncamm</title>
<link rel="icon" type="image/png" href="favicon96.png" />
<link rel="stylesheet" href="index.css">
</head>
<body>

<header>
  <h1>Penncamm</h1>
  <nav>
    <a href="#home" class="active">Home</a>
    <a href="#samples">Samples</a>
    <a href="#features">Features</a>
    <a href="#about">About</a>
    <a href="#buy">Buy</a>
    <a href="#legal">Legal</a>
  </nav>
  <div>
    <img src="favicon96.png" class="logo" />
    <button onclick="window.open('https://www.pennbrenn.com')">Webring</button>
  </div>
</header>

<section id="home">
  <div class="glass">
    <h1>Penncamm</h1>
    <img src="penncammcam.png" alt="Camera">
    <p>Don't just capture content, capture memories.</p>
  </div>
</section>

<section id="samples">
  <div class="glass sample-photos">
    <img src="sam.png" alt="Standard">
    <img src="sam.png" alt="Fisheye">
    <img src="sam.png" alt="Macro">
    <img src="sam.png" alt="Zoom">
  </div>
</section>

<section id="features">
  <div class="glass features">
    <div class="feature-item"><h3>Build Durability</h3><p>A stainless steel or reinforced plastic frame ensures durability in every moment.</p></div>
    <div class="feature-item"><h3>Display</h3><p>A high-definition display lets you see your memories as they were meant to be seen.</p></div>
    <div class="feature-item"><h3>Ergonomics</h3><p>A textured, non-slip leather or foam grip ensures secure, comfortable handling.</p></div>
    <div class="feature-item"><h3>Repairability</h3><p>With a lifetime warranty, you can be reassured that you'll have every moment.</p></div>
    <div class="feature-item"><h3>Sensor</h3><p>An 8MP sensor with 1080p video allows every moment to be captured with clear, vivid detail.</p></div>
    <div class="feature-item"><h3>Battery</h3><p>Up to a 2000mAh battery gives you extended time to get every detail without interruption.</p></div>
    <div class="feature-item"><h3>Interface</h3><p>With minimal controls, capturing memories becomes second nature.</p></div>
    <div class="feature-item"><h3>Flash</h3><p>A strong flash, combined with the camera's auto exposure, lets every moment be lit.</p></div>
  </div>
</section>

<section id="about">
  <div class="glass">
    <p>Basic about me (edit later)</p>
    <a href="https://www.pennbrenn.com" target="_blank">Learn more</a>
  </div>
</section>

<section id="buy">
  <div class="glass">
    <h2>Estimate Generator</h2>
    <form id="estimateForm">
      <!-- JS will populate dropdowns -->
    </form>
    <h3>Total: $<span id="totalPrice">0</span></h3>
    <textarea id="emailPreview" rows="6" placeholder="Preview of email..."></textarea>
    <button onclick="copyEmail()">Copy Email</button>
  </div>
</section>

<section id="legal">
  <div class="glass">
    <button onclick="window.location.href='./legal.html'">Legal</button>
  </div>
</section>

<script src="Options.json" type="application/json" id="optionsData"></script>
<script>
let options = {};
fetch('options.json').then(res => res.json()).then(data => {
  options = data;
  populateForm();
});

function populateForm(){
  const form = document.getElementById('estimateForm');
  for(const category in options){
    if(category==="PartsPrice" || category==="Labor" || category==="LeadTime") continue;
    const div = document.createElement('div');
    div.innerHTML = `<label>${category}</label><select multiple id="${category}"></select>`;
    form.appendChild(div);
    const select = div.querySelector('select');
    for(const item in options[category]){
      const price = options[category][item];
      const opt = document.createElement('option');
      opt.value = item;
      opt.text = `${item} ($${price})`;
      select.appendChild(opt);
    }
    select.addEventListener('change', updateTotal);
  }
  updateTotal();
}

function updateTotal(){
  let total = options.PartsPrice + options.Labor;
  const emailText = [];
  for(const category in options){
    if(category==="PartsPrice" || category==="Labor" || category==="LeadTime") continue;
    const select = document.getElementById(category);
    const selected = Array.from(select.selectedOptions).map(o=>o.value);
    selected.forEach(item=>{
      total += options[category][item];
      emailText.push(`${category}: ${item} ($${options[category][item]})`);
    });
  }

